<!DOCTYPE html>
<html>
<head>
<title>Emergency Details</title>
<style>
body{
font-family:Arial;
background:#ff4e50;
display:flex;
justify-content:center;
align-items:center;
height:100vh;
margin:0;
}

.card{
background:white;
padding:20px;
border-radius:12px;
width:320px;
text-align:center;
box-shadow:0 5px 15px rgba(0,0,0,0.3);
}

h2{
color:red;
margin-bottom:15px;
}

p{
margin:8px 0;
font-size:15px;
}

button{
padding:12px;
width:100%;
margin-top:10px;
border:none;
border-radius:6px;
font-size:15px;
cursor:pointer;
}

.call{
background:red;
color:white;
}

.sms{
background:#007bff;
color:white;
}

.hospital{
background:#28a745;
color:white;
}
</style>
</head>
<body>

<div class="card">
<h2>üö® EMERGENCY DETAILS</h2>

<p id="name"></p>
<p id="blood"></p>
<p id="phone"></p>
<p id="address"></p>

<button class="call" id="callBtn">üìû Call Now</button>
<button class="sms" id="smsBtn">üì© Send SMS</button>
<button class="hospital" id="hospitalBtn">üè• Nearby Hospitals</button>

</div>

<script>

let params = new URLSearchParams(window.location.search);

let name = params.get("name");
let blood = params.get("blood");
let phone = params.get("phone");
let address = params.get("address");

document.getElementById("name").innerText = "Name: " + name;
document.getElementById("blood").innerText = "Blood Group: " + blood;
document.getElementById("phone").innerText = "Phone: " + phone;
document.getElementById("address").innerText = "Address: " + address;


document.getElementById("callBtn").onclick = function(){
    window.location.href = "tel:" + phone;
};


document.getElementById("smsBtn").onclick = function(){
    let message = "Emergency Alert for " + name +
    ". Blood Group: " + blood;
    window.location.href =
    "sms:" + phone + "?body=" + encodeURIComponent(message);
};


document.getElementById("hospitalBtn").onclick = function(){

    if(navigator.geolocation){

        navigator.geolocation.getCurrentPosition(function(pos){

            let lat = pos.coords.latitude;
            let lon = pos.coords.longitude;

            let url =
"https://www.google.com/maps/search/hospitals/@"
+ lat + "," + lon + ",15z";

            window.open(url, "_blank");

        });

    } else {
        alert("Geolocation not supported");
    }
};

</script>

</body>
</html>
